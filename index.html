<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>FOCO HARD</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, Arial;
  background: #0f172a;
  color: #fff;
}

nav {
  display: flex;
  justify-content: space-around;
  background: #020617;
  padding: 12px 0;
  position: fixed;
  bottom: 0;
  width: 100%;
}

nav button {
  background: none;
  border: none;
  color: #94a3b8;
  font-size: 14px;
}

nav button.active {
  color: #38bdf8;
}

.page {
  display: none;
  padding: 20px;
  padding-bottom: 80px;
}

.page.active {
  display: block;
}

.card {
  background: #020617;
  padding: 15px;
  border-radius: 12px;
  margin-bottom: 15px;
}

input, select, button {
  width: 100%;
  padding: 10px;
  margin-top: 8px;
  border-radius: 8px;
  border: none;
  font-size: 15px;
}

button {
  background: #38bdf8;
  color: #020617;
  font-weight: bold;
}

.timer {
  font-size: 42px;
  text-align: center;
  margin: 20px 0;
}
</style>
</head>

<body>

<!-- HOME -->
<div id="home" class="page active">
  <h2>üè† FOCO HARD</h2>
  <div class="card">
    <p>Bem-vindo ao seu app de estudos focados.</p>
    <p>Estude, registre e acompanhe sua evolu√ß√£o.</p>
  </div>
</div>

<!-- ESTUDO -->
<div id="study" class="page">
  <h2>‚è± Estudo</h2>
  <div class="card">
    <select id="materia">
      <option value="">Selecione a mat√©ria</option>
      <option>ADS</option>
      <option>L√≥gica</option>
      <option>Programa√ß√£o</option>
      <option>Banco de Dados</option>
    </select>

    <div class="timer" id="timer">00:00</div>
    <button onclick="iniciar()">Iniciar</button>
    <button onclick="finalizar()">Finalizar</button>
  </div>
</div>

<!-- FEED -->
<div id="feed" class="page">
  <h2>üß† Feed de Estudos</h2>
  <div id="posts"></div>
</div>

<!-- STATS -->
<div id="stats" class="page">
  <h2>üìä Estat√≠sticas</h2>
  <div id="estatisticas"></div>
</div>

<nav>
  <button onclick="show('home')" class="active">Home</button>
  <button onclick="show('study')">Estudo</button>
  <button onclick="show('feed')">Feed</button>
  <button onclick="show('stats')">Stats</button>
</nav>

<script>
let segundos = 0;
let intervalo = null;
let materiaAtual = "";

const dados = JSON.parse(localStorage.getItem("focoHard")) || [];

function show(id) {
  document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
  document.querySelectorAll("nav button").forEach(b => b.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  event.target.classList.add("active");
  if (id === "feed") renderFeed();
  if (id === "stats") renderStats();
}

function iniciar() {
  const materia = document.getElementById("materia").value;
  if (!materia) return alert("Selecione uma mat√©ria");
  materiaAtual = materia;
  if (!intervalo) {
    intervalo = setInterval(() => {
      segundos++;
      const m = String(Math.floor(segundos / 60)).padStart(2, "0");
      const s = String(segundos % 60).padStart(2, "0");
      document.getElementById("timer").innerText = `${m}:${s}`;
    }, 1000);
  }
}

function finalizar() {
  clearInterval(intervalo);
  intervalo = null;

  if (segundos > 0) {
    dados.push({
      materia: materiaAtual,
      tempo: segundos,
      data: new Date().toLocaleString()
    });
    localStorage.setItem("focoHard", JSON.stringify(dados));
  }

  segundos = 0;
  document.getElementById("timer").innerText = "00:00";
}

function renderFeed() {
  const feed = document.getElementById("posts");
  feed.innerHTML = "";
  dados.slice().reverse().forEach(d => {
    feed.innerHTML += `
      <div class="card">
        <strong>${d.materia}</strong><br>
        ‚è± ${Math.floor(d.tempo/60)} min<br>
        üìÖ ${d.data}
      </div>`;
  });
}

function renderStats() {
  const stats = {};
  dados.forEach(d => {
    stats[d.materia] = (stats[d.materia] || 0) + d.tempo;
  });

  const div = document.getElementById("estatisticas");
  div.innerHTML = "";

  for (let m in stats) {
    div.innerHTML += `
      <div class="card">
        ${m}: ${Math.floor(stats[m]/60)} minutos
      </div>`;
  }
}
</script>

</body>
</html>
